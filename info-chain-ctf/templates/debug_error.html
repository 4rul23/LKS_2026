<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Error - NovaTech Dev Panel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Space Grotesk', 'system-ui'], mono: ['JetBrains Mono', 'monospace'] },
                    colors: { nova: { orange: '#f97316', dark: '#18181b', gray: '#27272a' } }
                }
            }
        }
    </script>
</head>

<body class="bg-nova-dark min-h-screen font-sans text-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <div class="bg-red-500/10 border border-red-500/30 rounded-xl p-6 mb-6">
            <div class="flex items-center gap-3 mb-4">
                <span class="text-red-500 text-2xl">⚠</span>
                <h1 class="text-xl font-bold text-red-400">Application Error</h1>
            </div>
            <p class="text-red-300/80">The dev panel is currently unavailable due to authentication module crash.</p>
        </div>

        <div class="bg-nova-gray/50 rounded-xl border border-white/5 overflow-hidden">
            <div class="flex items-center gap-2 px-4 py-3 bg-nova-gray border-b border-white/5">
                <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                <span class="ml-4 text-gray-500 text-sm font-mono">Stack Trace</span>
            </div>
            <pre class="p-6 text-sm font-mono text-gray-400 overflow-x-auto">
Traceback (most recent call last):
  File "/app/modules/auth.py", line 142, in validate_session
    token = self._load_token_from_config()
  File "/app/modules/auth.py", line 87, in _load_token_from_config
    config = ConfigParser()
    config.read('/app/backup/config.old')
                ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/modules/auth.py", line 91, in _load_token_from_config
    return config.get('admin', 'token')
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~
KeyError: 'token'

AuthenticationError: Failed to load admin token from backup config
Session ID: 7f8c9d2a-4b5e-6f1a-8c9d-2a4b5e6f1a8c
Server Time: 2024-12-06 11:23:45 UTC
Build: v2.4.1-dev

DEBUG INFO:
  - Config path: /backup/config.old
  - Auth module: v1.3.2
  - Environment: development
  - Debug endpoints: enabled
            </pre>
        </div>

        <div class="mt-6 text-center">
            <a href="/" class="text-nova-orange hover:underline text-sm">← Return to Homepage</a>
        </div>
    </div>
</body>

</html>